<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="static/styles.css">
	<script type="text/javascript" src="static/scripts.js"></script>
	<title>Daily Chess</title>
</head>
<body>
	<div class="main-box">
		<div class="title-box">
			<h1 class="title">Daily Chess</h1>
		</div>
		<form action="/results" method="POST" onsubmit="displayLoader()">
			{{ form.hidden_tag() }}
			<div class="user-box">
				<p>Lichess User Name</p>
				{{ form.user(id="userField") }}
			</div>
			<div class="time-control-box">
				<div class="time-sub-box">
					<p class="control-tag">Classical</p>
					{{ form.classical(class="control-checkbox") }}
				</div>
				<div class="time-sub-box">
					<p class="control-tag">Rapid</p>
					{{ form.rapid(class="control-checkbox") }}
				</div>
				<div class="time-sub-box">
					<p class="control-tag">Blitz</p>
					{{ form.blitz(class="control-checkbox") }}
				</div>
				<div class="time-sub-box">
					<p class="control-tag">Bullet</p>
					{{ form.bullet(class="control-checkbox") }}
				</div>
			</div>
			{% if noControl %}
			<div class="control-error">
				<p id="controlError">Please select at least one time control</p>
			</div>	
			{% endif %}
			<div class="number-box">
				<p>Number of games</p>
				{{ form.max_games(class="slider", min="1", max="1000", id="gamesSlider", onchange="displayNumber(this.value);")}}
				<span id="gamesNum">500</span>
			</div>
			<div class="run-box">
				{{ form.submit(id="runButton") }}
			</div>
		</form>
	</div>
	<div class="bottom-box">
		<div class="loader-box">
			<div class="loader" id="loadSpinner"></div>
		</div>
		<div class="piece-box">
			<span class="piece">&#9814;</span>
			<span class="piece">&#9816;</span>
			<span class="piece">&#9812;</span>
			<span class="piece">&#9813;</span>
			<span class="piece">&#9815;</span>
		</div>
	</div>
	<script type="text/javascript">
		window.onpageshow = function(e) {
			let loadSpinner = document.getElementById("loadSpinner");
			let mainBox = document.getElementsByClassName("main-box")[0];
			mainBox.style.display = "block"
			loadSpinner.style.display = "none";
		}
	</script>
</body>
</html>